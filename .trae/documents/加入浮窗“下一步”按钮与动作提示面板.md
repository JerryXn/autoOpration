## 变更目标
- 在渲染端加入可拖拽浮窗，包含按钮：`下一步`、`出错`、`重试`；提示框显示下一步计划动作（stage/action/selector）。
- 主进程提供逐步执行器与结构化日志；失败时保留现场（DOM/HTML/UI树/截图/导航历史）并反馈调试建议。

## 文件改动
- `src/index.html`
  - 添加浮窗根节点 `#autoop-floater`。
- `src/styles/app.css`
  - 新增浮窗样式（卡片、拖拽、最小化状态、错误徽标）。
- `src/views/autoop.js`
  - 渲染浮窗与提示框；绑定按钮事件与拖拽；订阅 `autoop-plan-preview`、`autoop-step-log`、`autoop-debug-report` 并更新 UI。
  - 暴露选择器工作台接口：设置当前帧的 `selector` 与参数。
- `src/preload.js`
  - 暴露 IPC：`next()`、`error()`、`retry()`；事件：`onPlanPreview`、`onStepLog`、`onDebugReport`。
- `src/main.js`
  - 执行队列（FIFO）与 `peek()`；处理 IPC：`autoop-next`、`autoop-error`、`autoop-retry`。
  - 封装日志：`logStep(stage, action, payload)` 与 `withStep(stage, action, selector, fn)`，统一输出 `[autoop-step]`。
  - 失败现场保留：目标容器 `outerHTML`、UI树快照（精简）、选择器匹配报告、窗口/容器截图与差异值、最近导航历史；通过 `autoop-debug-report` 推送到渲染层。

## 执行与日志规范
- 每步日志字段：`ts, runId, url, stage, action, selector, matchCount, result, error, elapsedMs, shot`。
- 提示框显示 `peek()` 的下一步计划；点击“下一步”推进，“重试”重做当前帧，“出错”生成现场与调试建议。

## 动态元素采集
- MutationObserver（聚合 300ms 变更，标记 overlay/menu/listbox/dialog/tooltip）。
- Intersection/ResizeObserver（可见性与尺寸变化）；适配虚拟列表与懒加载。
- Shadow DOM 遍历；生成 `host + ::shadow` 候选选择器。
- iframe：同源采集，跨源以坐标点击 + 截图差异兜底。
- Canvas/WebGL：坐标点击 + 差异校验；记录为不可语义访问。

## 迭代查找策略
- 首选选择器 → 文本模糊（中英、去空格） → role/aria/type → 容器内相邻结构 → 几何启发（右/下控件） → 坐标点击（微抖动）。
- 每次切换策略都产生日志项与建议。

## 验证步骤
- 运行自动运营，使用你提供的选择器：
  - 观察浮窗提示与日志同步；
  - 详情容器滚动与图片翻页在浮层执行；
  - 出错时现场完整并能在工作台改写选择器后重试；
  - 连续处理到设定数量后结束。

确认后我将据此实施代码改动并交付首次可用版本。