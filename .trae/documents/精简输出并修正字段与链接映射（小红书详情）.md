## 问题回应
- 重复输出：当前输出包含 `[NOTE]`、`[DETAIL_SUMMARY]`、`{"summary":...}` 多次打印，需要合并为单一 JSON。
- 字段混乱：`title` 为空而正文在 `text`，需增强标题抽取并与正文区分清晰。
- 链接不一致：确保新标签页打开的详情 URL严格使用列表项的 `href`，并记录索引映射。

## 改动目标
- 仅输出你要求的字段：`author`, `title`, `text`, `images`(URL列表), `published_at`, `comments_count`, `url`。
- 去除所有其它打印与多余结构（不输出 nodes/oplog/list 等）。
- 强化 `title` 抽取：优先 `#detail-title` → 详情容器内 `.title/[data-title]` → `meta[property="og:title"]` → `text` 首行（作为兜底）。
- `text` 统一取 `#detail-desc` 的文本；无则用详情容器文本。
- 新标签页打开详情：严格使用 `list[i].href`，并把 `i` 与 `href/url`写入内部日志但不输出。

## 具体实现
### 1) index.js（详情抽取修正）
- 位置：`src/playwright/index.js:155` 的 `extractNote(page)` 与 `pickTitle/pickText`
- 调整：
  - `pickTitle()` 增加兜底：若前述选择器都无结果，取 `pickText()` 的第一行（遇到标签/话题截断）。
  - `pickText()` 保持优先 `#detail-desc`。
- 移除打印：删除 `console.log('[NOTE]', ...)` 与 `console.log('[DETAIL_SUMMARY]', ...)` 以避免重复输出。

### 2) index.js（新增精简导出函数）
- 新增 `extractRequired(page)`：基于 `extractNote(page)` 返回所需字段，并不做任何 `console.log`。
- 返回：`{ author, title, text, images, published_at, comments_count, url }`

### 3) open.js（输出精简 JSON、链接一致性）
- 位置：`src/playwright/open.js`
- 调整：
  - 只打印一次：`console.log(JSON.stringify(required))`。
  - 循环列表时，使用 `for (let i=0; i<list.length; i++)`，严格 `openNoteInNewTab(s.context, s.page, list[i].href)`。
  - 打开后立即调用 `extractRequired(page)`；打印仅这一个对象。
  - 保留 `--save-list` 仅在列表阶段打印一次（如你不需要则默认关闭）。

## 验证
- 命令：`node src/playwright/open.js --kw "美食" --limit 10 --new-tab`
- 期望：
  - 输出一个 JSON 对象，仅包含 7 个字段。
  - `title` 不为空（若页面确无显式标题则取正文首行）。
  - `url` 与打印的列表第一项 `href` 一致（或对应索引项一致）。

## 代码引用
- 详情抽取：`src/playwright/index.js:155`（`extractNote`）、`src/playwright/index.js:169-176`（`pickTitle/pickAuthor`）
- 新标签页：`src/playwright/index.js:277-306`（`openNoteInNewTab`）
- CLI：`src/playwright/open.js:1-28`（主流程）

如确认，我将按上述实现并再次本地跑通，给出精简后的单一 JSON 输出。