## 症状与现状
- 日志 Terminal#929-1049 显示首个候选进入受限页（404），随后停留在 `open_item` 阶段的 `wait`，没有执行受限检测与回退。
- 当前增量执行由 `ipcMain.on('autoop-next')` 单步推进（`src/main.js:454`），需要持续触发才会执行后续队列。

## 改动目标
1. 在增量执行路径中确保进入受限页后自动回退并打开下一候选。
2. 让队列在未暂停/未停止时自动连续推进，避免卡在 `wait` 之后必须人工点“下一步”。
3. 保留日志与 UI 预览，便于观察每一步状态。

## 技术方案
- 队列一致化：维持已补全的队列定义（含 `detect_restricted`、`back_to_list`、`open_next_item`）在增量执行路径：`src/main.js:532-539`。
- 自动推进（autoplay）：
  - 给运行态 `st` 增加 `autoplay: true`；在 `autoop-next` 完成一次动作后，如果 `st.autoplay && !st.paused && !st.stopped`，立即安排下一次执行（例如 `setImmediate` 或 `setTimeout(0)` 调用内部 `step()`）。
  - 避免并发：使用 `st.busy` 锁保证同一时间只有一次执行。
- 受限页处理增强：
  - `detect_restricted` 既匹配 URL `/404?`，也匹配文案“当前笔记暂时无法浏览/返回首页”，位置：`src/main.js:500-507`。
  - 一旦检测到受限，自动发送 `autoop-plan-preview` 与（可选）`autoop-error` 采集页面摘要，便于排查。

## 变更点
- `src/main.js`：
  - 在创建 run 状态时设置 `autoplay`。
  - 在 `autoop-next` 执行结束处增加自动触发下一步的调度逻辑。
  - 在 `detect_restricted` 分支命中后，保持 `st.restricted=true`，让状态机按现有逻辑跳转到 `back_to_list → open_next_item`。

## 验证步骤
- 启动后执行一次自动浏览：
  - 进入受限页后，应看到日志：`detect_restricted → program_back → query_selector_next → click`。
  - 队列连续推进，无需手动点击“下一步”。
- 静态验证：
  - 搜索 `autoplay` 字段与调度逻辑存在于 `autoop-next`。
  - 队列定义和状态机分支一致。

## 风险与回滚
- 自动推进如与手动点击并发可能产生竞态；通过 `st.busy` 锁与单通道调度避免。
- 可通过 UI 暂停/停止开关（已有 `paused/stopped` 字段）禁用自动推进；若误行为，移除 `autoplay` 并回滚自动调度。